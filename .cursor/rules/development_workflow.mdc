---
description: 
globs: 
alwaysApply: true
---
# Development Workflow Rule

**Goal:** Ensure all features and fixes are developed on separate branches and reviewed via Pull Requests.

**Procedure:**

1.  **Identify Task:** Clearly understand the feature or bug fix to be implemented.
2.  **Branch Creation:**
    *   Determine a descriptive branch name (e.g., `feat/short-desc`, `fix/short-desc`, `chore/short-desc`).
    *   Ensure you are on the correct base branch (usually `main`).
    *   Create the new branch: `git checkout -b <new-branch-name>`
3.  **Implementation:**
    *   Make the necessary code changes.
    *   Follow project coding standards and best practices.
4.  **Documentation Update:**
    *   **STOP:** Before committing, review `project_docs/PRODUCT_DOCUMENTATION.md`.
    *   Propose and apply necessary documentation updates to reflect the implemented changes (e.g., checking off tasks).
5.  **Committing:**
    *   Stage ALL relevant changes (**code AND documentation**): `git add <files...>`
    *   Commit the changes with a clear, concise commit message following conventional commit guidelines (e.g., `feat: Add login button`, `fix: Correct session handling`).
6.  **Pull Request - Confirmation Step:**
    *   **STOP:** Before pushing or creating a PR, **explicitly ask the user** if they want to create a Pull Request for the changes on the current branch (`<new-branch-name>`).
    *   **WAIT** for user confirmation.
7.  **Pull Request - Creation (Only if user confirms):**
    *   Push the branch to the remote: `git push -u origin <new-branch-name>`
    *   Prepare a structured PR title following conventional commit format (e.g., `feat: Add login button`).
    *   Prepare a structured PR body including:
        *   **Motivation:** Briefly explain *why* the change is needed.
        *   **Summary:** Describe *what* the change does.
        *   **Related Issues/Tasks:** Link to relevant items if applicable (use inline code for numbers, e.g., `Related to: #123`).
    *   Create a temporary file (e.g., `pr_body.tmp`) containing the prepared multi-line PR body content. Using a file ensures correct formatting.
    *   Create the PR using the `gh` command. If `gh` is not in the default PATH, use the full path (e.g., `/opt/homebrew/bin/gh`):
        ```bash
        # Example using full path and temporary file
        /opt/homebrew/bin/gh pr create --title "Your Conventional Commit Title" --body-file pr_body.tmp --base main --head <new-branch-name>
        ```
    *   Clean up the temporary file (e.g., `rm pr_body.tmp`).

**ALWAYS follow this branching, documentation update, and confirmation workflow for code changes.**